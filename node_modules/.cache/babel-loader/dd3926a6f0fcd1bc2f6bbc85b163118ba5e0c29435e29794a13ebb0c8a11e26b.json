{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import\"./app.css\";import{auth,provider}from\"./firebase\";import{createUserWithEmailAndPassword,signInWithEmailAndPassword,signInWithPopup,signOut,onAuthStateChanged,getIdToken}from\"firebase/auth\";import{FaStar}from\"react-icons/fa\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE=process.env.REACT_APP_API_BASE||\"http://localhost:5000/api\";function StarDisplay(_ref){let{value}=_ref;const v=Math.round(value||0);return/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\"},children:[1,2,3,4,5].map(i=>/*#__PURE__*/_jsx(FaStar,{color:i<=v?\"#f59e0b\":\"#e5e7eb\",style:{marginRight:4}},i))});}function StarPicker(_ref2){let{value,setValue}=_ref2;const[hover,setHover]=useState(0);return/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\"},children:[1,2,3,4,5].map(i=>/*#__PURE__*/_jsx(FaStar,{size:24,style:{marginRight:6,cursor:\"pointer\"},color:i<=(hover||value)?\"#f59e0b\":\"#e5e7eb\",onClick:()=>setValue(i),onMouseEnter:()=>setHover(i),onMouseLeave:()=>setHover(0)},i))});}export default function App(){const[user,setUser]=useState(null);const[mode,setMode]=useState(\"auth\");const[isSignup,setIsSignup]=useState(true);const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[styles,setStyles]=useState([]);const[selected,setSelected]=useState(null);const[reviews,setReviews]=useState([]);const[avgRating,setAvgRating]=useState(0);const[rating,setRating]=useState(5);const[comment,setComment]=useState(\"\");const[error,setError]=useState(\"\");useEffect(()=>{const unsub=onAuthStateChanged(auth,async u=>{setUser(u);setMode(u?\"gallery\":\"auth\");if(u){const idToken=await getIdToken(u);try{await axios.post(\"\".concat(API_BASE,\"/auth/session\"),{idToken});}catch(err){console.error(\"session sync err\",err);}}});return unsub;},[]);useEffect(()=>{async function load(){try{const res=await axios.get(\"\".concat(API_BASE,\"/styles\"));setStyles(res.data.styles||[]);}catch(err){console.error(err);}}load();},[]);async function handleSignup(e){e.preventDefault();setError(\"\");try{await createUserWithEmailAndPassword(auth,email,password);setEmail(\"\");setPassword(\"\");}catch(err){setError(err.message);}}async function handleLogin(e){e.preventDefault();setError(\"\");try{await signInWithEmailAndPassword(auth,email,password);setEmail(\"\");setPassword(\"\");}catch(err){setError(err.message);}}async function handleGoogle(){setError(\"\");try{await signInWithPopup(auth,provider);}catch(err){setError(err.message);}}async function handleLogout(){await signOut(auth);setSelected(null);setMode(\"auth\");}async function openStyle(s){setSelected(s);setMode(\"style\");try{const res=await axios.get(\"\".concat(API_BASE,\"/styles/\").concat(s._id||s.id));setReviews(res.data.reviews||[]);setAvgRating(res.data.avgRating||0);}catch(err){console.error(err);}}async function submitReview(e){e.preventDefault();setError(\"\");if(!user){setError(\"Sign in to post a review\");return;}if(!comment.trim()){setError(\"Comment required\");return;}try{const token=await getIdToken(user);const res=await axios.post(\"\".concat(API_BASE,\"/styles/\").concat(selected._id||selected.id,\"/reviews\"),{rating,comment},{headers:{Authorization:\"Bearer \".concat(token)}});setReviews(prev=>[res.data.review,...prev]);setAvgRating(res.data.avgRating);setComment(\"\");setRating(5);}catch(err){var _err$response,_err$response$data;console.error(err);setError((err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message);}}if(mode===\"auth\"){return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:420,margin:40},children:[/*#__PURE__*/_jsx(\"h2\",{children:isSignup?\"Sign Up\":\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:isSignup?handleSignup:handleLogin,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Email\",required:true,style:{width:\"100%\",padding:8,marginBottom:8}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Password\",required:true,style:{width:\"100%\",padding:8,marginBottom:8}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{width:\"100%\",padding:8},children:isSignup?\"Sign Up\":\"Login\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGoogle,style:{width:\"100%\",marginTop:8},children:\"Continue with Google\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\",marginTop:8},children:error}),/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:12},children:[isSignup?\"Already have account?\":\"Need an account?\",/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setIsSignup(!isSignup);setError(\"\");},style:{marginLeft:8},children:isSignup?\"Login\":\"Sign Up\"})]})]});}if(mode===\"gallery\"){return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:1000,margin:24},children:[/*#__PURE__*/_jsxs(\"header\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Hijab Styles\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{marginRight:12},children:user===null||user===void 0?void 0:user.email}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Logout\"})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gap:16,gridTemplateColumns:\"repeat(auto-fit, minmax(240px,1fr))\",marginTop:18},children:styles.map(s=>/*#__PURE__*/_jsxs(\"div\",{style:{border:\"1px solid #e5e7eb\",padding:12,borderRadius:8},children:[/*#__PURE__*/_jsx(\"img\",{src:s.imageURL,alt:s.name,style:{width:\"100%\",height:160,objectFit:\"cover\",borderRadius:6}}),/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:8},children:s.name}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"#374151\"},children:s.description}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>openStyle(s),style:{marginTop:8},children:\"View\"})]},s._id||s.id))})]});}if(mode===\"style\"&&selected){return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:900,margin:20},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setMode(\"gallery\");setSelected(null);},children:\"\\u2190 Back\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:16,marginTop:12},children:[/*#__PURE__*/_jsx(\"img\",{src:selected.imageURL,alt:selected.name,style:{width:320,height:320,objectFit:\"cover\",borderRadius:8}}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"h2\",{children:selected.name}),/*#__PURE__*/_jsx(\"p\",{children:selected.description}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:12},children:[/*#__PURE__*/_jsx(StarDisplay,{value:avgRating}),/*#__PURE__*/_jsx(\"div\",{children:avgRating?avgRating.toFixed(2):\"No ratings yet\"})]}),/*#__PURE__*/_jsx(\"hr\",{style:{margin:\"12px 0\"}}),/*#__PURE__*/_jsx(\"h3\",{children:\"Reviews\"}),user?/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitReview,style:{marginBottom:12},children:[/*#__PURE__*/_jsx(StarPicker,{value:rating,setValue:setRating}),/*#__PURE__*/_jsx(\"textarea\",{value:comment,onChange:e=>setComment(e.target.value),placeholder:\"Write review...\",style:{width:\"100%\",minHeight:80,marginTop:8,padding:8}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{marginTop:8},children:\"Submit\"})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Please sign in to post a review.\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\"},children:error}),/*#__PURE__*/_jsx(\"div\",{children:reviews.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No reviews yet\"}):reviews.map(r=>/*#__PURE__*/_jsxs(\"div\",{style:{borderTop:\"1px solid #e5e7eb\",paddingTop:8,marginTop:8},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600},children:r.userEmail||\"Anonymous\"}),/*#__PURE__*/_jsx(StarDisplay,{value:r.rating})]}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:6},children:r.comment}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:12,color:\"#6b7280\"},children:new Date(r.createdAt).toLocaleString()})]},r._id||r.id))})]})]})]});}return null;}","map":{"version":3,"names":["React","useEffect","useState","axios","auth","provider","createUserWithEmailAndPassword","signInWithEmailAndPassword","signInWithPopup","signOut","onAuthStateChanged","getIdToken","FaStar","jsx","_jsx","jsxs","_jsxs","API_BASE","process","env","REACT_APP_API_BASE","StarDisplay","_ref","value","v","Math","round","style","display","children","map","i","color","marginRight","StarPicker","_ref2","setValue","hover","setHover","size","cursor","onClick","onMouseEnter","onMouseLeave","App","user","setUser","mode","setMode","isSignup","setIsSignup","email","setEmail","password","setPassword","styles","setStyles","selected","setSelected","reviews","setReviews","avgRating","setAvgRating","rating","setRating","comment","setComment","error","setError","unsub","u","idToken","post","concat","err","console","load","res","get","data","handleSignup","e","preventDefault","message","handleLogin","handleGoogle","handleLogout","openStyle","s","_id","id","submitReview","trim","token","headers","Authorization","prev","review","_err$response","_err$response$data","response","maxWidth","margin","onSubmit","type","onChange","target","placeholder","required","width","padding","marginBottom","marginTop","marginLeft","justifyContent","alignItems","gap","gridTemplateColumns","border","borderRadius","src","imageURL","alt","name","height","objectFit","description","flex","toFixed","minHeight","length","r","borderTop","paddingTop","fontWeight","userEmail","fontSize","Date","createdAt","toLocaleString"],"sources":["C:/Users/DELL/Downloads/hijab_gallery_project/frontend/src/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./app.css\"\nimport { auth, provider } from \"./firebase\";\nimport {\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  signInWithPopup,\n  signOut,\n  onAuthStateChanged,\n  getIdToken\n} from \"firebase/auth\";\nimport { FaStar } from \"react-icons/fa\";\n\nconst API_BASE = process.env.REACT_APP_API_BASE || \"http://localhost:5000/api\";\n\nfunction StarDisplay({ value }) {\n  const v = Math.round(value || 0);\n  return (\n    <div style={{ display: \"flex\" }}>\n      {[1,2,3,4,5].map(i => (\n        <FaStar key={i} color={i <= v ? \"#f59e0b\" : \"#e5e7eb\"} style={{ marginRight: 4 }} />\n      ))}\n    </div>\n  );\n}\n\nfunction StarPicker({ value, setValue }) {\n  const [hover, setHover] = useState(0);\n  return (\n    <div style={{ display: \"flex\" }}>\n      {[1,2,3,4,5].map(i => (\n        <FaStar\n          key={i}\n          size={24}\n          style={{ marginRight: 6, cursor: \"pointer\" }}\n          color={i <= (hover || value) ? \"#f59e0b\" : \"#e5e7eb\"}\n          onClick={() => setValue(i)}\n          onMouseEnter={() => setHover(i)}\n          onMouseLeave={() => setHover(0)}\n        />\n      ))}\n    </div>\n  );\n}\n\nexport default function App() {\n  const [user, setUser] = useState(null);\n  const [mode, setMode] = useState(\"auth\");\n  const [isSignup, setIsSignup] = useState(true);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [styles, setStyles] = useState([]);\n  const [selected, setSelected] = useState(null);\n  const [reviews, setReviews] = useState([]);\n  const [avgRating, setAvgRating] = useState(0);\n  const [rating, setRating] = useState(5);\n  const [comment, setComment] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    const unsub = onAuthStateChanged(auth, async (u) => {\n      setUser(u);\n      setMode(u ? \"gallery\" : \"auth\");\n      if (u) {\n        const idToken = await getIdToken(u);\n        try {\n          await axios.post(`${API_BASE}/auth/session`, { idToken });\n        } catch (err) {\n          console.error(\"session sync err\", err);\n        }\n      }\n    });\n    return unsub;\n  }, []);\n\n  useEffect(() => {\n    async function load() {\n      try {\n        const res = await axios.get(`${API_BASE}/styles`);\n        setStyles(res.data.styles || []);\n      } catch (err) {\n        console.error(err);\n      }\n    }\n    load();\n  }, []);\n\n  async function handleSignup(e) {\n    e.preventDefault();\n    setError(\"\");\n    try {\n      await createUserWithEmailAndPassword(auth, email, password);\n      setEmail(\"\"); setPassword(\"\");\n    } catch (err) {\n      setError(err.message);\n    }\n  }\n  async function handleLogin(e) {\n    e.preventDefault();\n    setError(\"\");\n    try {\n      await signInWithEmailAndPassword(auth, email, password);\n      setEmail(\"\"); setPassword(\"\");\n    } catch (err) {\n      setError(err.message);\n    }\n  }\n  async function handleGoogle() {\n    setError(\"\");\n    try {\n      await signInWithPopup(auth, provider);\n    } catch (err) {\n      setError(err.message);\n    }\n  }\n  async function handleLogout() {\n    await signOut(auth);\n    setSelected(null);\n    setMode(\"auth\");\n  }\n\n  async function openStyle(s) {\n    setSelected(s);\n    setMode(\"style\");\n    try {\n      const res = await axios.get(`${API_BASE}/styles/${s._id || s.id}`);\n      setReviews(res.data.reviews || []);\n      setAvgRating(res.data.avgRating || 0);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  async function submitReview(e) {\n    e.preventDefault();\n    setError(\"\");\n    if (!user) { setError(\"Sign in to post a review\"); return; }\n    if (!comment.trim()) { setError(\"Comment required\"); return; }\n    try {\n      const token = await getIdToken(user);\n      const res = await axios.post(`${API_BASE}/styles/${selected._id || selected.id}/reviews`,\n        { rating, comment },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      setReviews(prev => [res.data.review, ...prev]);\n      setAvgRating(res.data.avgRating);\n      setComment(\"\");\n      setRating(5);\n    } catch (err) {\n      console.error(err);\n      setError(err?.response?.data?.message || err.message);\n    }\n  }\n\n  if (mode === \"auth\") {\n    return (\n      <div style={{ maxWidth: 420, margin: 40 }}>\n        <h2>{isSignup? \"Sign Up\": \"Login\"}</h2>\n        <form onSubmit={isSignup? handleSignup : handleLogin}>\n          <input type=\"email\" value={email} onChange={e=>setEmail(e.target.value)} placeholder=\"Email\" required style={{ width: \"100%\", padding:8, marginBottom:8 }} />\n          <input type=\"password\" value={password} onChange={e=>setPassword(e.target.value)} placeholder=\"Password\" required style={{ width: \"100%\", padding:8, marginBottom:8 }} />\n          <button type=\"submit\" style={{ width: \"100%\", padding:8 }}>{isSignup? \"Sign Up\": \"Login\"}</button>\n        </form>\n        <button onClick={handleGoogle} style={{ width:\"100%\", marginTop:8 }}>Continue with Google</button>\n        {error && <div style={{ color: \"red\", marginTop:8 }}>{error}</div>}\n        <p style={{ marginTop: 12 }}>\n          {isSignup? \"Already have account?\" : \"Need an account?\"}\n          <button onClick={()=>{ setIsSignup(!isSignup); setError(\"\"); }} style={{ marginLeft:8 }}>{isSignup? \"Login\" : \"Sign Up\"}</button>\n        </p>\n      </div>\n    );\n  }\n\n  if (mode === \"gallery\") {\n    return (\n      <div style={{ maxWidth: 1000, margin: 24 }}>\n        <header style={{ display:\"flex\", justifyContent:\"space-between\", alignItems:\"center\" }}>\n          <h1>Hijab Styles</h1>\n          <div>\n            <span style={{ marginRight:12 }}>{user?.email}</span>\n            <button onClick={handleLogout}>Logout</button>\n          </div>\n        </header>\n        <div style={{ display:\"grid\", gap:16, gridTemplateColumns:\"repeat(auto-fit, minmax(240px,1fr))\", marginTop:18 }}>\n          {styles.map(s => (\n            <div key={s._id || s.id} style={{ border:\"1px solid #e5e7eb\", padding:12, borderRadius:8 }}>\n              <img src={s.imageURL} alt={s.name} style={{ width:\"100%\", height:160, objectFit:\"cover\", borderRadius:6 }} />\n              <h3 style={{ marginTop:8 }}>{s.name}</h3>\n              <p style={{ color:\"#374151\" }}>{s.description}</p>\n              <button onClick={()=>openStyle(s)} style={{ marginTop:8 }}>View</button>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (mode === \"style\" && selected) {\n    return (\n      <div style={{ maxWidth: 900, margin: 20 }}>\n        <button onClick={()=>{ setMode(\"gallery\"); setSelected(null); }}>‚Üê Back</button>\n        <div style={{ display:\"flex\", gap:16, marginTop:12 }}>\n          <img src={selected.imageURL} alt={selected.name} style={{ width:320, height:320, objectFit:\"cover\", borderRadius:8 }} />\n          <div style={{ flex:1 }}>\n            <h2>{selected.name}</h2>\n            <p>{selected.description}</p>\n            <div style={{ display:\"flex\", alignItems:\"center\", gap:12 }}>\n              <StarDisplay value={avgRating} />\n              <div>{avgRating ? avgRating.toFixed(2) : \"No ratings yet\"}</div>\n            </div>\n\n            <hr style={{ margin: \"12px 0\" }} />\n            <h3>Reviews</h3>\n            {user ? (\n              <form onSubmit={submitReview} style={{ marginBottom:12 }}>\n                <StarPicker value={rating} setValue={setRating} />\n                <textarea value={comment} onChange={e=>setComment(e.target.value)} placeholder=\"Write review...\" style={{ width:\"100%\", minHeight:80, marginTop:8, padding:8 }} />\n                <button type=\"submit\" style={{ marginTop:8 }}>Submit</button>\n              </form>\n            ) : (\n              <p>Please sign in to post a review.</p>\n            )}\n            {error && <div style={{ color:\"red\" }}>{error}</div>}\n\n            <div>\n              {reviews.length === 0 ? <p>No reviews yet</p> : reviews.map(r=>(\n                <div key={r._id || r.id} style={{ borderTop:\"1px solid #e5e7eb\", paddingTop:8, marginTop:8 }}>\n                  <div style={{ display:\"flex\", justifyContent:\"space-between\", alignItems:\"center\" }}>\n                    <div style={{ fontWeight:600 }}>{r.userEmail || \"Anonymous\"}</div>\n                    <StarDisplay value={r.rating} />\n                  </div>\n                  <p style={{ marginTop:6 }}>{r.comment}</p>\n                  <div style={{ fontSize:12, color:\"#6b7280\" }}>{new Date(r.createdAt).toLocaleString()}</div>\n                </div>\n              ))}\n            </div>\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return null;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}